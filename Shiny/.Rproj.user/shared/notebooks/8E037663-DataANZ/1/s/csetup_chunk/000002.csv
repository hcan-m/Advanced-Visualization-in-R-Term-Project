"0","library(tidyverse)"
"0","library(readxl)"
"2","package ‘readxl’ was built under R version 3.6.2"
"0","library(tidyr)"
"0","library(leaflet)"
"0","library(plotly)"
"0","library(shinydashboard)"
"0","library(lubridate)"
"0","library(shiny)"
"0","library(data.table)"
"0","library(mltools)"
"0","library(lubridate)"
"0","library(flexdashboard)"
"0","library(base)"
"0","Sys.setlocale(""LC_ALL"", ""English"")"
"1","[1]"
"1"," ""LC_COLLATE=English_United States.1252;LC_CTYPE=English_United States.1252;LC_MONETARY=English_United States.1252;LC_NUMERIC=C;LC_TIME=English_United States.1252"""
"1","
"
"0","df <- read_excel(""ANZ synthesised transaction dataset.xlsx"")"
"2","Expecting numeric in C3052 / R3052C3: got 'THE DISCOUNT CHEMIST GROUP'"
"2","Expecting numeric in C4360 / R4360C3: got 'LAND WATER & PLANNING East Melbourne'"
"0","summary(df)"
"1",""
"1","    status         "
"1"," card_present_flag"
"1"," bpay_biller_code"
"1","   account         "
"1","   currency        "
"1","
"
"1"," Length:12043      "
"1"," Min.   :0.000    "
"1"," Min.   :0       "
"1"," Length:12043      "
"1"," Length:12043      "
"1","
"
"1"," Class :character  "
"1"," 1st Qu.:1.000    "
"1"," 1st Qu.:0       "
"1"," Class :character  "
"1"," Class :character  "
"1","
"
"1"," Mode  :character  "
"1"," Median :1.000    "
"1"," Median :0       "
"1"," Mode  :character  "
"1"," Mode  :character  "
"1","
"
"1","                   "
"1"," Mean   :0.803    "
"1"," Mean   :0       "
"1","                   "
"1","                   "
"1","
"
"1","                   "
"1"," 3rd Qu.:1.000    "
"1"," 3rd Qu.:0       "
"1","                   "
"1","                   "
"1","
"
"1","                   "
"1"," Max.   :1.000    "
"1"," Max.   :0       "
"1","                   "
"1","                   "
"1","
"
"1","                   "
"1"," NA's   :4326     "
"1"," NA's   :11160   "
"1","                   "
"1","                   "
"1","
"
"1",""
"1","   long_lat        "
"1"," txn_description   "
"1"," merchant_id       "
"1"," merchant_code  "
"1","  first_name       "
"1","
"
"1"," Length:12043      "
"1"," Length:12043      "
"1"," Length:12043      "
"1"," Min.   :0      "
"1"," Length:12043      "
"1","
"
"1"," Class :character  "
"1"," Class :character  "
"1"," Class :character  "
"1"," 1st Qu.:0      "
"1"," Class :character  "
"1","
"
"1"," Mode  :character  "
"1"," Mode  :character  "
"1"," Mode  :character  "
"1"," Median :0      "
"1"," Mode  :character  "
"1","
"
"1","                   "
"1","                   "
"1","                   "
"1"," Mean   :0      "
"1","                   "
"1","
"
"1","                   "
"1","                   "
"1","                   "
"1"," 3rd Qu.:0      "
"1","                   "
"1","
"
"1","                   "
"1","                   "
"1","                   "
"1"," Max.   :0      "
"1","                   "
"1","
"
"1","                   "
"1","                   "
"1","                   "
"1"," NA's   :11160  "
"1","                   "
"1","
"
"1",""
"1","    balance         "
"1","      date                    "
"1","    gender         "
"1","      age       "
"1"," merchant_suburb   "
"1","
"
"1"," Min.   :     0.24  "
"1"," Min.   :2018-08-01 00:00:00  "
"1"," Length:12043      "
"1"," Min.   :18.00  "
"1"," Length:12043      "
"1","
"
"1"," 1st Qu.:  3158.59  "
"1"," 1st Qu.:2018-08-24 00:00:00  "
"1"," Class :character  "
"1"," 1st Qu.:22.00  "
"1"," Class :character  "
"1","
"
"1"," Median :  6432.01  "
"1"," Median :2018-09-16 00:00:00  "
"1"," Mode  :character  "
"1"," Median :28.00  "
"1"," Mode  :character  "
"1","
"
"1"," Mean   : 14704.20  "
"1"," Mean   :2018-09-15 21:27:39  "
"1","                   "
"1"," Mean   :30.58  "
"1","                   "
"1","
"
"1"," 3rd Qu.: 12465.94  "
"1"," 3rd Qu.:2018-10-09 00:00:00  "
"1","                   "
"1"," 3rd Qu.:38.00  "
"1","                   "
"1","
"
"1"," Max.   :267128.52  "
"1"," Max.   :2018-10-31 00:00:00  "
"1","                   "
"1"," Max.   :78.00  "
"1","                   "
"1","
"
"1","                    "
"1","                              "
"1","                   "
"1","                "
"1","                   "
"1","
"
"1",""
"1"," merchant_state    "
"1","  extraction       "
"1","     amount       "
"1"," transaction_id    "
"1","   country         "
"1","
"
"1"," Length:12043      "
"1"," Length:12043      "
"1"," Min.   :   0.10  "
"1"," Length:12043      "
"1"," Length:12043      "
"1","
"
"1"," Class :character  "
"1"," Class :character  "
"1"," 1st Qu.:  16.00  "
"1"," Class :character  "
"1"," Class :character  "
"1","
"
"1"," Mode  :character  "
"1"," Mode  :character  "
"1"," Median :  29.00  "
"1"," Mode  :character  "
"1"," Mode  :character  "
"1","
"
"1","                   "
"1","                   "
"1"," Mean   : 187.93  "
"1","                   "
"1","                   "
"1","
"
"1","                   "
"1","                   "
"1"," 3rd Qu.:  53.66  "
"1","                   "
"1","                   "
"1","
"
"1","                   "
"1","                   "
"1"," Max.   :8835.98  "
"1","                   "
"1","                   "
"1","
"
"1","                   "
"1","                   "
"1","                  "
"1","                   "
"1","                   "
"1","
"
"1",""
"1"," customer_id       "
"1"," merchant_long_lat "
"1","   movement        "
"1","
"
"1"," Length:12043      "
"1"," Length:12043      "
"1"," Length:12043      "
"1","
"
"1"," Class :character  "
"1"," Class :character  "
"1"," Class :character  "
"1","
"
"1"," Mode  :character  "
"1"," Mode  :character  "
"1"," Mode  :character  "
"1","
"
"1","                   "
"1","                   "
"1","                   "
"1","
"
"1","                   "
"1","                   "
"1","                   "
"1","
"
"1","                   "
"1","                   "
"1","                   "
"1","
"
"1","                   "
"1","                   "
"1","                   "
"1","
"
"0","# check which columns contain missing values"
"0","colnames(df)[colSums(is.na(df)) > 0]"
"1","[1]"
"1"," ""card_present_flag"""
"1"," ""bpay_biller_code"" "
"1"," ""merchant_id""      "
"1"," ""merchant_code""    "
"1"," ""merchant_suburb""  "
"1","
"
"1","[6]"
"1"," ""merchant_state""   "
"1"," ""merchant_long_lat"""
"1","
"
"0","# seperate longtitude and langtitude of clients and merchants"
"0","df <- separate(df, long_lat, into=c(""long"", ""lat""), sep="" "")"
"0","df$long <- gsub(""c\\("", """", df$long)"
"0","df$lat <- gsub(""\\)"", """", df$lat)"
"0","df$long <- as.numeric(df$long)"
"0","df$lat <- as.numeric(df$lat)"
"0",""
"0","df <- separate(df, merchant_long_lat, into=c(""m_long"", ""m_lat""), sep="" "")"
"0","df$m_long <-gsub(""c\\("", """", df$m_long)"
"0","df$m_lat <- gsub(""\\)"", """", df$m_lat)"
"0","df$m_long <- as.numeric(df$m_long)"
"0","df$m_lat <- as.numeric(df$m_lat)"
"0",""
"0","# check "
"0","df_temp <- df %>%"
"0","  filter (!(long >114 & long <154 & lat > (-44) & lat < (-10))) "
"0","length(unique(df_temp$customer_id))"
"1","[1]"
"1"," 1"
"1","
"
"0","unique(df_temp$customer_id)"
"1","[1]"
"1"," ""CUS-1617121891"""
"1","
"
"0","df %>% filter(customer_id==""CUS-1617121891"") %>% dplyr::select(first_name)"
